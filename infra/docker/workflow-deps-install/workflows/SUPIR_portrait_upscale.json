{
  "last_node_id": 152,
  "last_link_id": 164,
  "nodes": [
    {
      "id": 67,
      "type": "GetNode",
      "pos": {
        "0": 7083.24755859375,
        "1": 81.00244903564453,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            86
          ],
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "title": "Get_BASE_IMAGE",
      "properties": {},
      "widgets_values": [
        "BASE_IMAGE"
      ]
    },
    {
      "id": 98,
      "type": "Bookmark (rgthree)",
      "pos": {
        "0": 5978.32861328125,
        "1": -146.1632537841797,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 62
      },
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "4",
        1
      ]
    },
    {
      "id": 95,
      "type": "Bookmark (rgthree)",
      "pos": {
        "0": 340,
        "1": 1030,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 62
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "1",
        1
      ]
    },
    {
      "id": 89,
      "type": "Note",
      "pos": [
        3778.332972619787,
        870.8095975227393
      ],
      "size": {
        "0": 510,
        "1": 80
      },
      "flags": {},
      "order": 3,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "A quick intermediary step to makes ure the upscaler model didn't ruin the image!\nNote that your browser is displaying a rescaled image, if you want better results use faststone image viewer, it's freeware and pixel-accurate."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 97,
      "type": "Bookmark (rgthree)",
      "pos": {
        "0": 3608.3330078125,
        "1": 760.8098754882812,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 62
      },
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "3",
        1
      ]
    },
    {
      "id": 61,
      "type": "GetNode",
      "pos": {
        "0": 6133.310546875,
        "1": 356.4106140136719,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SUPIRMODEL",
          "type": "SUPIRMODEL",
          "links": [
            121
          ],
          "slot_index": 0,
          "label": "SUPIRMODEL"
        }
      ],
      "title": "Get_SUPIR_MODEL_CHAIN",
      "properties": {},
      "widgets_values": [
        "SUPIR_MODEL_CHAIN"
      ]
    },
    {
      "id": 107,
      "type": "SUPIR_decode",
      "pos": [
        6763.310524530062,
        126.41061913894609
      ],
      "size": {
        "0": 315,
        "1": 102
      },
      "flags": {},
      "order": 56,
      "mode": 0,
      "inputs": [
        {
          "name": "SUPIR_VAE",
          "type": "SUPIRVAE",
          "link": 124,
          "label": "SUPIR_VAE"
        },
        {
          "name": "latents",
          "type": "LATENT",
          "link": 127,
          "label": "latents"
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            125
          ],
          "slot_index": 0,
          "label": "image",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SUPIR_decode"
      },
      "widgets_values": [
        true,
        512
      ]
    },
    {
      "id": 57,
      "type": "ColorMatch",
      "pos": [
        7413.310524530062,
        226.41061913894606
      ],
      "size": {
        "0": 315,
        "1": 102
      },
      "flags": {},
      "order": 60,
      "mode": 0,
      "inputs": [
        {
          "name": "image_ref",
          "type": "IMAGE",
          "link": 86,
          "label": "image_ref"
        },
        {
          "name": "image_target",
          "type": "IMAGE",
          "link": 125,
          "label": "image_target"
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            68
          ],
          "slot_index": 0,
          "label": "image",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ColorMatch"
      },
      "widgets_values": [
        "mkl",
        1
      ]
    },
    {
      "id": 108,
      "type": "Note",
      "pos": [
        7437.563637428462,
        90.23617384002593
      ],
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {},
      "order": 6,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Color matching can sometimes yield slight better results"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 83,
      "type": "SetNode",
      "pos": {
        "0": 3618.3330078125,
        "1": 410.8096008300781,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 62,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 104,
          "label": "IMAGE"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "label": "*"
        }
      ],
      "title": "Set_DENOISED_IMG",
      "properties": {
        "previousName": "DENOISED_IMG"
      },
      "widgets_values": [
        "DENOISED_IMG"
      ]
    },
    {
      "id": 109,
      "type": "SetNode",
      "pos": {
        "0": 3588.3330078125,
        "1": 460.8096008300781,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 63,
      "mode": 0,
      "inputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "link": 128,
          "label": "LATENT"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "label": "*"
        }
      ],
      "title": "Set_DENOISED_LATENTS",
      "properties": {
        "previousName": "DENOISED_LATENTS"
      },
      "widgets_values": [
        "DENOISED_LATENTS"
      ]
    },
    {
      "id": 85,
      "type": "SUPIR_encode",
      "pos": [
        5963.310524530062,
        166.41061913894606
      ],
      "size": {
        "0": 315,
        "1": 126
      },
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "SUPIR_VAE",
          "type": "SUPIRVAE",
          "link": 109,
          "label": "SUPIR_VAE"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 106,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            130
          ],
          "slot_index": 0,
          "label": "latent",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SUPIR_encode"
      },
      "widgets_values": [
        true,
        512,
        "auto"
      ]
    },
    {
      "id": 113,
      "type": "Note",
      "pos": [
        2648.332972619787,
        1350.8095975227388
      ],
      "size": {
        "0": 270,
        "1": 110
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Usual ARs:\n16:9\n1280x720  (720p)\n1920x1080 (1080p)\n3840�2160 (4k)\n5120x2880 (5k)"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 114,
      "type": "GetImageSize+",
      "pos": [
        2367.332972619787,
        1732.8095975227388
      ],
      "size": {
        "0": 210,
        "1": 66
      },
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 131,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            134
          ],
          "slot_index": 0,
          "label": "width",
          "shape": 3
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            136
          ],
          "slot_index": 1,
          "label": "height",
          "shape": 3
        },
        {
          "name": "count",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageSize+"
      }
    },
    {
      "id": 121,
      "type": "SimpleMath+",
      "pos": [
        2810.332972619787,
        1639.8095975227388
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "type": "INT,FLOAT",
          "link": 134,
          "label": "a"
        },
        {
          "name": "b",
          "type": "INT,FLOAT",
          "link": 159,
          "label": "b"
        },
        {
          "name": "c",
          "type": "*",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            162
          ],
          "slot_index": 0,
          "label": "INT",
          "shape": 3
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "label": "FLOAT",
          "shape": 3
        }
      ],
      "title": "Width Calculator",
      "properties": {
        "Node name for S&R": "SimpleMath+"
      },
      "widgets_values": [
        "a*b"
      ]
    },
    {
      "id": 101,
      "type": "Note",
      "pos": [
        5963.310524530062,
        546.4106191389457
      ],
      "size": {
        "0": 250,
        "1": 60
      },
      "flags": {},
      "order": 8,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This is your \"prompt\" - try changing the image by upping the CFG! ALWAYS test your prompts and models separately!"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 82,
      "type": "Note",
      "pos": [
        1788.3329726197876,
        315.8095975227392
      ],
      "size": {
        "0": 240,
        "1": 80
      },
      "flags": {},
      "order": 9,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "You can now add LORAs! Experiment with add_detail for example, or better faces perhaps!"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 86,
      "type": "SetNode",
      "pos": {
        "0": 3585.3330078125,
        "1": 357.8096008300781,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 61,
      "mode": 0,
      "inputs": [
        {
          "name": "SUPIRVAE",
          "type": "SUPIRVAE",
          "link": 107,
          "label": "SUPIRVAE"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "label": "*"
        }
      ],
      "title": "Set_SUPIR_VAE_DENOISED",
      "properties": {
        "previousName": "SUPIR_VAE_DENOISED"
      },
      "widgets_values": [
        "SUPIR_VAE_DENOISED"
      ]
    },
    {
      "id": 94,
      "type": "Fast Groups Bypasser (rgthree)",
      "pos": {
        "0": 660,
        "1": 1290,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 260,
        "1": 110
      },
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "OPT_CONNECTION",
          "type": "*",
          "links": null,
          "label": "OPT_CONNECTION"
        }
      ],
      "title": "Stages",
      "properties": {
        "matchColors": "brown",
        "matchTitle": "",
        "showNav": true,
        "sort": "position",
        "customSortAlphabet": "",
        "toggleRestriction": "default"
      }
    },
    {
      "id": 88,
      "type": "SUPIR_conditioner",
      "pos": [
        5953.310524530062,
        666.4106191389457
      ],
      "size": {
        "0": 400,
        "1": 200
      },
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "SUPIR_model",
          "type": "SUPIRMODEL",
          "link": 110,
          "label": "SUPIR_model"
        },
        {
          "name": "latents",
          "type": "LATENT",
          "link": 129,
          "label": "latents"
        },
        {
          "name": "captions",
          "type": "STRING",
          "link": null,
          "label": "captions",
          "widget": {
            "name": "captions"
          }
        },
        {
          "name": "positive_prompt",
          "type": "STRING",
          "link": 147,
          "label": "positive_prompt",
          "widget": {
            "name": "positive_prompt"
          }
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "SUPIR_cond_pos",
          "links": [
            122
          ],
          "slot_index": 0,
          "label": "positive",
          "shape": 3
        },
        {
          "name": "negative",
          "type": "SUPIR_cond_neg",
          "links": [
            123
          ],
          "slot_index": 1,
          "label": "negative",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SUPIR_conditioner"
      },
      "widgets_values": [
        "a man dressed in an amusing outfit, highly detailed, 4k",
        "bad quality, blurry, messy",
        ""
      ]
    },
    {
      "id": 96,
      "type": "Bookmark (rgthree)",
      "pos": {
        "0": 2010,
        "1": 1800,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 62
      },
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "2",
        2
      ]
    },
    {
      "id": 75,
      "type": "CR Apply LoRA Stack",
      "pos": [
        2390,
        120
      ],
      "size": {
        "0": 254.40000915527344,
        "1": 66
      },
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 155,
          "label": "model"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 96,
          "label": "clip"
        },
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": 154,
          "label": "lora_stack"
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            97
          ],
          "slot_index": 0,
          "label": "MODEL",
          "shape": 3
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            98
          ],
          "slot_index": 1,
          "label": "CLIP",
          "shape": 3
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "label": "show_help",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Apply LoRA Stack"
      }
    },
    {
      "id": 74,
      "type": "CR LoRA Stack",
      "pos": [
        2100,
        280
      ],
      "size": {
        "0": 315,
        "1": 342
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "lora_stack",
          "type": "LORA_STACK",
          "link": null,
          "label": "lora_stack"
        }
      ],
      "outputs": [
        {
          "name": "LORA_STACK",
          "type": "LORA_STACK",
          "links": [
            154
          ],
          "slot_index": 0,
          "label": "LORA_STACK",
          "shape": 3
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "label": "show_help",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR LoRA Stack"
      },
      "widgets_values": [
        "Off",
        "None",
        1,
        1,
        "Off",
        "None",
        1,
        1,
        "Off",
        "None",
        1,
        1
      ]
    },
    {
      "id": 146,
      "type": "PreviewImage",
      "pos": [
        7936,
        495
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 67,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 157,
          "label": "images"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 130,
      "type": "Image Resize",
      "pos": [
        8290,
        100
      ],
      "size": {
        "0": 315,
        "1": 178
      },
      "flags": {},
      "order": 66,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 142,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            143,
            148,
            151
          ],
          "slot_index": 0,
          "label": "IMAGE",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "Image Resize"
      },
      "widgets_values": [
        "rescale",
        "true",
        "lanczos",
        3,
        1024,
        1536
      ]
    },
    {
      "id": 6,
      "type": "Note",
      "pos": [
        150,
        -170
      ],
      "size": {
        "0": 770,
        "1": 1110
      },
      "flags": {},
      "order": 13,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "               _              ___   ____\n __ _________ (_)_ ____ _    / _ | /  _/\n/ // / __(_-</ / // /  ' \\_ / __ |_/ /  \n\\_,_/_/ /___/_/\\_,_/_/_/_(_)_/ |_/___/  \n                                        \n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@(,%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@..  ..,,*/(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&(....   ,*/#(%&&&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@@@@@&&&&%%%%#.   .. **((*,*(###%%%%%%&&&&@@@@@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@@@@&&&&%%%###((((#//,,,*/,.%%@////(((###%%%%&&&&@@@@@@@@@@@@@@@@\n@@@@@@@@@@@@@@@@&&&%%%###((//***.&&@@#(#/&@@@@.,,,***//((###%%%&&&&@@@@@@@@@@@@@\n@@@@@@@@@@@@@@&&&%%%##((/**,,...  @%(/*((&@@&     ..,,**//((###%%%&&&@@@@@@@@@@@\n@@@@@@@@@@@@&&&%%##((//*,,.         &,.//%&          ..,,**//((##%%%&&&@@@@@@@@@\n@@@@@@@@@@@&&%%%#((//*,..           ,,/#@/              ..,**//((##%%%&&&@@@@@@@\n@@@@@@@@@&&&%%##((/*,,.             .&%@#@                ..,**//((##%%%&&@@@@@@\n@@@@@@@@&&&%%##((/*,,.             **/@@@@@                ..,,**/((##%%%&&@@@@@\n@@@@@@@@&&%%##((/*,,.         .. * ,.,@@@@@@@@&&            ..,,**/((##%%%&&@@@@\n@@@@@@@&&&%%##(//*,..       ..**@@&%.//,/@@@@@@@@&           ..,,**/((##%%&&&@@@\n@@@@@@@&&&%%#((/**,..      ./%&.   .,**,*/(#%@@@@&%          ...,**//(##%%&&&@@@\n@@@@@@@&&&%%##(//*,,.      (#% /...,.*/,,////*  .&&          ..,,**/((##%%&&@@@@\n@@@@@@@@&&%%%#((//*,..     ,*   ,*/(((%/(%&@&.    ,/.       ..,,**/((##%%&&@@@@@\n@@@@@@@@@&&%%%##(//*,,.. ..,    ..**,*/*/((@@,     */,    ..,,**//((##%%&&&@@@@@\n@@@@@@@@@@&&&%%##((//**..*..    .,/**%//@##%&      .,(*...,,**//((##%%%&&@@@@@@@\n\n\n** SUPIR v2 nodes WORKFLOW BY URSIUM.AI **\nCC-BY LICENSE - creativecommons.org/licenses/by/4.0/\nChannel/Tutorials: youtube.com/@stephantual\nDonations: ko-fi.com/stephantual\nTry it now: flowt.ai/community?search=%3Apub+Stephan_Tual\nAuthor: Stephan Tual\nDate Updated: 03/28/2024\nVersion: 1.6.1 FLOWT.AI PUBLIC RELEASE _ Update 2\n\n** HISTORY **\n03/14/2024 - Releasing the workflow while recording the tutorial video\n03/19/2024 - Updated post YouTube Video\n03/28/2024 - Updated to support the recent update\n03/29/2024 - Deployed on Flowt.AI Plug&Play and updated to support the 'red car' example\n04/05/2024 - Added WDtagger so no one forgets their pos prompts. Please read the notes and watch the video on 'settings'\n04/13/2024 - Updated for new video - check out my YT channel :)\n\n\n** NOW RUNNING ON CLOUD!!! **\nThank you to flowt.ai for supporting this updated version at:\nhttps://flowt.ai/community/supir-v2-plugandplay-edition-n5acf-v\nThe cloud is a good option if you lack vRAM, flowt has a 'plug and play' system that makes it really easy!\n\n\n** PURPOSE **\nA basic SUPIR worfklow supporting the latest update to keep up with the Jones.\nJoin our discord at tinyurl.com/URSIUM for showing of your work or sharing improved version of this workflow.\n\n\n** SUPPORT **\nIf you experience an issue, first:\na) Rewatch the latest video: I cover most of the error messages\nb) Run quick google search on the error message itself, works 99% of the time\nc) Check the SUPIR nodes Github and post an issue.\nRemember: I am not the author of the nodes. In addition, even they are rarely the authors of the underlying algorythms: most nodes are 'wrapping' code that may have bugs which neither myself nor the node authors can help with. You need to contact the correct person.\nd) If all fails consider running this on the cloud, I test it regularly to make sure it's stable (see above links)\n\n\n** DISCLAIMER **\nThis worfklow is provided 'AS IS' and is not supported in ANY way by the author. I am not responsible if the installation of custom nodes breaks your comfyUI install, or for anything for that matter. Each node used here is the property of their respective author - and they may contain non-commercial clauses. \n\n\n** USAGE ** \n0. Watch the tuturial video(s) posted on my YT channel (https://www.youtube.com/@stephantual)\n1. Choose a photo - refer to the video for advice on settings for now please :)\n2. Select an appropriate checkpoint for the model - anime for anime, photorealistic for photos etc.\n3. Select a scale factor - the higher, the more vRam this will use\n4. Run the stage 1 to check if you are happy with the model upscale - change the upscale model accordingly\n5. Once happy, set the SUPIR sampler settings to default and run\n6. Iterate until you have the results you want (creative, strict, etc)\n7. Experiment! this is to learn, not an \"app\" :)\n\n\nDiscuss at tinyurl.com/URSIUM or for the Flowt version, tinyurl.com/flowtai\nRun at: https://flowt.ai/community?search=%3Apub+Stephan_Tual\n\n\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 65,
      "type": "GetNode",
      "pos": {
        "0": 6323.310546875,
        "1": 76.4106216430664,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 309.68927001953125,
        "1": 58.23038101196289
      },
      "flags": {
        "collapsed": false
      },
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SUPIRVAE",
          "type": "SUPIRVAE",
          "links": [
            124
          ],
          "slot_index": 0,
          "label": "SUPIRVAE"
        }
      ],
      "title": "Get_SUPIR_VAE_DENOISED",
      "properties": {},
      "widgets_values": [
        "SUPIR_VAE_DENOISED"
      ]
    },
    {
      "id": 131,
      "type": "Note",
      "pos": [
        8300,
        350
      ],
      "size": {
        "0": 349.6351318359375,
        "1": 58
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Remember: this lanczos image resize node are VERY RAM (not vRAM) hungry."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 143,
      "type": "Note",
      "pos": [
        3715,
        1149
      ],
      "size": {
        "0": 449.2965087890625,
        "1": 86.77743530273438
      },
      "flags": {},
      "order": 16,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "depending on your browser smoothing algorythm, if you're not using a model, you will NOT (AT ALL) see results from lanczos only here, this is normal. Use icat or faststone to compare images"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 99,
      "type": "Note",
      "pos": [
        630,
        1080
      ],
      "size": {
        "0": 310,
        "1": 150
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "The v2 nodes allow you to save a lot of time by upscaling/denoising the image first THEN passing it to supir with modified parameters! It's a useful way to iterate on SUPIR settings (only disable stage 2 to run stage 1, it doesn't work the other way around, evidently)\n----------------------------------------\nv2 节点允许您通过先放大/去噪图像，然后使用修改后的参数将其传递给 supir 来节省大量时间！这是迭代 SUPIR 设置的有用方法（仅禁用阶段 2 以运行阶段 1，显然它不会以相反的方式工作）"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 77,
      "type": "Note",
      "pos": [
        1533,
        867
      ],
      "size": {
        "0": 471.3542175292969,
        "1": 238.1953582763672
      },
      "flags": {},
      "order": 18,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Chooose the correct model from openmodeldb.info based on your input, for example a face, a car or nature will all need a specific model. 4xLSDIRplusN, realesrgan or 4xNMKD-siax-200k are good all rounders, lexicaDAT is also really good while remacri can work well with nature. For best results use realistic and large (in terms of file size) models, not tiny hyper optimized ones.\nBypass if you find this to be detrimental to the quality of the image, which is going to be OFTEN :) \n-----------------------------------------\n根据您的输入从 openmodeldb.info 中选择正确的模型，例如人脸、汽车或自然都需要特定的模型。4xLSDIRplusN、realesrgan 或 4xNMKD-siax-200k 是很好的全能选手，lexicaDAT 也非常好，而 remacri 可以很好地与大自然配合。为了获得最佳效果，请使用逼真的大型（就文件大小而言）模型，而不是微小的超优化模型。\n如果您发现这对图像质量有害，请绕过，这通常是:)\n---------------------------------- 放大模型下载地址\nhttps://huggingface.co/tomjackson2023/upscale_models/blob/main/4xLexicaDAT2_otf.pth\n4xLexicaDAT2_otf.pth\n更多模型地址https://huggingface.co/tomjackson2023/upscale_models/tree/main"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 76,
      "type": "Note",
      "pos": [
        2168.3329726197876,
        1150.8095975227388
      ],
      "size": {
        "0": 336.73370361328125,
        "1": 121.40132141113281
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Upscaling is NOT what SUPIR does. It's primarily a very good controlnet. Use the upscaler of your choice, or just resize the image.\n\n放大不是 SUPIR 所做的。它主要是一个非常好的 controlnet。使用您选择的升频器，或者只是调整图像大小。"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 124,
      "type": "Note",
      "pos": [
        2342,
        1931
      ],
      "size": {
        "0": 457.6520690917969,
        "1": 334.0009765625
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "For the \"red car\" example, the upscale factor is 1 to demonstrate the functionality of SUPIR. The upscale is done at the back of the chain rather than the front in this case. For other use case, use either this upscale, or both.\n\nTurn on FP8 pass 5k, it will run out of 24gb vRam otherwise\n\nPast 6x SUPIR will definitely behave differently, which will be detrimental sometimes to the quality of the image. If you want extremely high resolutions, consider using supir up to 5x, then again using a standard lanczos for up to 10k resolution\n\n对于 “red car” 示例，放大因子为 1 以演示 SUPIR 的功能。在这种情况下，高档是在链条的后部而不是前面完成的。对于其他使用案例，请使用此 upscale 或两者。\n\n打开 FP8 pass 5k，否则它将耗尽 24gb vRam\n\n过去的 6 倍 SUPIR 肯定会有不同的行为，这有时会对图像质量产生不利影响。如果您想要极高的分辨率，请考虑使用高达 5 倍的 supir，然后再次使用标准 lanczos 以获得高达 10k 的分辨率"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 100,
      "type": "Image Comparer (rgthree)",
      "pos": {
        "0": 3221,
        "1": 1486,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 1220,
        "1": 1070
      },
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "image_a",
          "type": "IMAGE",
          "link": 119,
          "dir": 3,
          "label": "image_a"
        },
        {
          "name": "image_b",
          "type": "IMAGE",
          "link": 120,
          "dir": 3,
          "label": "image_b"
        }
      ],
      "outputs": [],
      "title": "Upscale Compare",
      "properties": {
        "comparer_mode": "Slide"
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_irsuk_00029_.png&type=temp&subfolder=&rand=0.5547054028527623"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_irsuk_00030_.png&type=temp&subfolder=&rand=0.7140060179892598"
          }
        ]
      ]
    },
    {
      "id": 106,
      "type": "Note",
      "pos": [
        1313,
        -72
      ],
      "size": {
        "0": 761.24267578125,
        "1": 136.0402069091797
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "SDXL only - You can now use Lightning, which speeds sampling up considerably - test the model of your choice first however as evidenlty the quality of the output is directly correlated to the model you select based on your subject. If you want to upscale Anime, consider using APISR as its controlnet might be more suitable. \nALWAYS TEST YOUR MODELS WITH A HIGH CFG AND LOW CN VALUES TO MAKE SURE THE MODEL IS WORKING WITH SUPIR\n--------------------------------\n仅限 SDXL - 您现在可以使用 Lightning，它大大加快了采样速度 - 首先测试您选择的模型，但事实证明，输出的质量与您根据主题选择的模型直接相关。如果您想升级 Anime，请考虑使用 APISR，因为它的 controlnet 可能更合适。\n始终使用高 CFG 和低 CN 值测试您的模型，以确保模型与 SUPIR 一起工作"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 73,
      "type": "SUPIR_model_loader_v2",
      "pos": [
        2658,
        91
      ],
      "size": {
        "0": 422.2112121582031,
        "1": 170
      },
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 97,
          "label": "model"
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 98,
          "label": "clip"
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 92,
          "label": "vae"
        }
      ],
      "outputs": [
        {
          "name": "SUPIR_model",
          "type": "SUPIRMODEL",
          "links": [
            93
          ],
          "slot_index": 0,
          "label": "SUPIR_model",
          "shape": 3
        },
        {
          "name": "SUPIR_VAE",
          "type": "SUPIRVAE",
          "links": [
            102
          ],
          "slot_index": 1,
          "label": "SUPIR_VAE",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SUPIR_model_loader_v2"
      },
      "widgets_values": [
        "SUPIR-v0Q_fp16.safetensors",
        false,
        "auto",
        false
      ]
    },
    {
      "id": 105,
      "type": "Note",
      "pos": [
        2678,
        311
      ],
      "size": {
        "0": 289.09075927734375,
        "1": 79.88854217529297
      },
      "flags": {},
      "order": 22,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "If you are very low vRam, use FP8 precision unet, the quality will be degraded however (but not by much)"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 60,
      "type": "SetNode",
      "pos": {
        "0": 3171,
        "1": 127,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 271.9836730957031,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 57,
      "mode": 0,
      "inputs": [
        {
          "name": "SUPIRMODEL",
          "type": "SUPIRMODEL",
          "link": 93,
          "label": "SUPIRMODEL"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "label": "*"
        }
      ],
      "title": "Set_SUPIR_MODEL_CHAIN",
      "properties": {
        "previousName": "SUPIR_MODEL_CHAIN"
      },
      "widgets_values": [
        "SUPIR_MODEL_CHAIN"
      ]
    },
    {
      "id": 81,
      "type": "SUPIR_first_stage",
      "pos": [
        3191,
        361
      ],
      "size": {
        "0": 330,
        "1": 170
      },
      "flags": {},
      "order": 58,
      "mode": 0,
      "inputs": [
        {
          "name": "SUPIR_VAE",
          "type": "SUPIRVAE",
          "link": 102,
          "label": "SUPIR_VAE"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 114,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "SUPIR_VAE",
          "type": "SUPIRVAE",
          "links": [
            107
          ],
          "slot_index": 0,
          "label": "SUPIR_VAE",
          "shape": 3
        },
        {
          "name": "denoised_image",
          "type": "IMAGE",
          "links": [
            104
          ],
          "slot_index": 1,
          "label": "denoised_image",
          "shape": 3
        },
        {
          "name": "denoised_latents",
          "type": "LATENT",
          "links": [
            128
          ],
          "slot_index": 2,
          "label": "denoised_latents",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SUPIR_first_stage"
      },
      "widgets_values": [
        true,
        512,
        512,
        "auto"
      ]
    },
    {
      "id": 91,
      "type": "GetNode",
      "pos": {
        "0": 2839,
        "1": 457,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 308.0633850097656,
        "1": 70.62407684326172
      },
      "flags": {
        "collapsed": true
      },
      "order": 23,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            114
          ],
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "title": "Get_UPSCALED_IMG",
      "properties": {},
      "widgets_values": [
        "UPSCALED_IMG"
      ]
    },
    {
      "id": 24,
      "type": "UpscaleModelLoader",
      "pos": [
        1574,
        1207
      ],
      "size": {
        "0": 440,
        "1": 140
      },
      "flags": {},
      "order": 24,
      "mode": 4,
      "outputs": [
        {
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            27
          ],
          "slot_index": 0,
          "label": "UPSCALE_MODEL",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader"
      },
      "widgets_values": [
        "4xLexicaDAT2_otf.pth"
      ]
    },
    {
      "id": 144,
      "type": "Note",
      "pos": [
        5692,
        896
      ],
      "size": {
        "0": 227.8234405517578,
        "1": 131.7802276611328
      },
      "flags": {},
      "order": 25,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "always double check the ouptut of wdtagger/moondream when using supir as it's easy to get lazy and accidently inputting an incorrect prpmt by mistake!\n使用 Supir 时，请务必仔细检查 wdtagger/moondream 的 ouptut，因为它很容易偷懒并意外错误地输入了错误的 prpmt！"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 25,
      "type": "ImageUpscaleWithModel",
      "pos": [
        2176,
        1359
      ],
      "size": {
        "0": 241.79998779296875,
        "1": 46
      },
      "flags": {},
      "order": 46,
      "mode": 4,
      "inputs": [
        {
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 27,
          "label": "upscale_model"
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 28,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            161
          ],
          "slot_index": 0,
          "label": "IMAGE",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel"
      }
    },
    {
      "id": 90,
      "type": "SetNode",
      "pos": {
        "0": 3052,
        "1": 1107,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 164,
          "label": "IMAGE"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "label": "*"
        }
      ],
      "title": "Set_UPSCALED_IMG",
      "properties": {
        "previousName": "UPSCALED_IMG"
      },
      "widgets_values": [
        "UPSCALED_IMG"
      ]
    },
    {
      "id": 66,
      "type": "SetNode",
      "pos": {
        "0": 2148,
        "1": 1508,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 160,
          "label": "IMAGE"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "label": "*"
        }
      ],
      "title": "Set_BASE_IMAGE",
      "properties": {
        "previousName": "BASE_IMAGE"
      },
      "widgets_values": [
        "BASE_IMAGE"
      ]
    },
    {
      "id": 136,
      "type": "SetNode",
      "pos": {
        "0": 2625,
        "1": 747,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "link": 146,
          "label": "STRING"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "slot_index": 0,
          "label": "*"
        }
      ],
      "title": "Set_tagged_pos",
      "properties": {
        "previousName": "tagged_pos"
      },
      "widgets_values": [
        "tagged_pos"
      ]
    },
    {
      "id": 79,
      "type": "GetNode",
      "pos": {
        "0": 3133,
        "1": 1259,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 26,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            119
          ],
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "title": "Get_BASE_IMAGE",
      "properties": {},
      "widgets_values": [
        "BASE_IMAGE"
      ]
    },
    {
      "id": 92,
      "type": "GetNode",
      "pos": {
        "0": 3011,
        "1": 1379,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 27,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            120
          ],
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "title": "Get_UPSCALED_IMG",
      "properties": {},
      "widgets_values": [
        "UPSCALED_IMG"
      ]
    },
    {
      "id": 122,
      "type": "SimpleMath+",
      "pos": [
        2806,
        1782
      ],
      "size": {
        "0": 315,
        "1": 98
      },
      "flags": {},
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "type": "INT,FLOAT",
          "link": 136,
          "label": "a"
        },
        {
          "name": "b",
          "type": "INT,FLOAT",
          "link": 158,
          "label": "b"
        },
        {
          "name": "c",
          "type": "*",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            163
          ],
          "slot_index": 0,
          "label": "INT",
          "shape": 3
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null,
          "label": "FLOAT",
          "shape": 3
        }
      ],
      "title": "Height Calculator",
      "properties": {
        "Node name for S&R": "SimpleMath+"
      },
      "widgets_values": [
        "a*b"
      ]
    },
    {
      "id": 110,
      "type": "GetNode",
      "pos": {
        "0": 5619,
        "1": 666,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 266.94158935546875,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 28,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            129
          ],
          "slot_index": 0,
          "label": "LATENT"
        }
      ],
      "title": "Get_DENOISED_LATENTS",
      "properties": {},
      "widgets_values": [
        "DENOISED_LATENTS"
      ]
    },
    {
      "id": 62,
      "type": "GetNode",
      "pos": {
        "0": 5606,
        "1": 533,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 302.9200744628906,
        "1": 61.9904670715332
      },
      "flags": {
        "collapsed": false
      },
      "order": 29,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SUPIRMODEL",
          "type": "SUPIRMODEL",
          "links": [
            110
          ],
          "slot_index": 0,
          "label": "SUPIRMODEL"
        }
      ],
      "title": "Get_SUPIR_MODEL_CHAIN",
      "properties": {},
      "widgets_values": [
        "SUPIR_MODEL_CHAIN"
      ]
    },
    {
      "id": 84,
      "type": "GetNode",
      "pos": {
        "0": 5603,
        "1": 228,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 274.1889953613281,
        "1": 76.21685028076172
      },
      "flags": {
        "collapsed": false
      },
      "order": 30,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            106
          ],
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "title": "Get_DENOISED_IMG",
      "properties": {},
      "widgets_values": [
        "DENOISED_IMG"
      ]
    },
    {
      "id": 87,
      "type": "GetNode",
      "pos": {
        "0": 5561,
        "1": 66,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 312.5574645996094,
        "1": 64.63787078857422
      },
      "flags": {
        "collapsed": false
      },
      "order": 31,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "SUPIRVAE",
          "type": "SUPIRVAE",
          "links": [
            109
          ],
          "slot_index": 0,
          "label": "SUPIRVAE"
        }
      ],
      "title": "Get_SUPIR_VAE_DENOISED",
      "properties": {},
      "widgets_values": [
        "SUPIR_VAE_DENOISED"
      ]
    },
    {
      "id": 137,
      "type": "GetNode",
      "pos": {
        "0": 5649,
        "1": 788,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": false
      },
      "order": 32,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            147
          ],
          "slot_index": 0,
          "label": "STRING"
        }
      ],
      "title": "Get_tagged_pos",
      "properties": {},
      "widgets_values": [
        "tagged_pos"
      ]
    },
    {
      "id": 72,
      "type": "CheckpointLoaderSimple",
      "pos": [
        1318.3329726197876,
        130.80959752273912
      ],
      "size": {
        "0": 780,
        "1": 120
      },
      "flags": {},
      "order": 33,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            155
          ],
          "slot_index": 0,
          "label": "MODEL",
          "shape": 3
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            96
          ],
          "slot_index": 1,
          "label": "CLIP",
          "shape": 3
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            92
          ],
          "slot_index": 2,
          "label": "VAE",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "leosamsHelloworldXL_helloworldXL50GPT4V.safetensors"
      ]
    },
    {
      "id": 104,
      "type": "Note",
      "pos": [
        6913.310524530062,
        636.4106191389457
      ],
      "size": {
        "0": 739.8601684570312,
        "1": 466.5936279296875
      },
      "flags": {},
      "order": 34,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "Match the steps and CFG to what is expected of your checkpoint like any other sampler.\n\nfor the 'red car' example, use a higher cfg than normal\n\nfor any other image, remember you have to change the settings per image. There is no 'one size fits all'\n\nUse -1 to disable restoration. Max is 20. \n\nDMPPP_ETA and s (sigma) noise help create variations at low controlnet values, and/or can be used to simulate focus depth (see https://sandner.art/sigma-and-eta-noise-image-variations-in-latent-space-and-fast-detail-effects/)\n\nAnything below 0.5 for cfg will start showing more of the underlying model. Fun for creative work, but can look strage.\n\nKeep the model in memory if you are batching many images\n\nUsed the tiled sampler and set the tite size to the highest your vRam will allow, and reduce it according if you are low vRAM (8gb or less)\n\nfor higher denoise just leave the CN very low (at 0.1 it hallucinates)\n\n------------------\n将 steps 和 CFG 与检查点的预期值匹配，就像任何其他采样器一样。\n\n对于 'red car' 示例，使用比正常值更高的 cfg\n\n对于任何其他图像，请记住您必须更改每个图像的设置。没有“一刀切”\n\n使用 -1 禁用还原。Max 是 20。\n\nDMPPP_ETA 和 s （sigma） 噪声有助于在低 ControlNet 值下产生变化，并且/或可用于模拟焦深（参见 https://sandner.art/sigma-and-eta-noise-image-variations-in-latent-space-and-fast-detail-effects/）\n\ncfg 的任何低于 0.5 的值都将开始显示更多底层模型。创意工作很有趣，但可能看起来很滑稽。\n\n如果要批处理许多图像，请将模型保留在内存中\n\n使用平铺采样器并将 tite 大小设置为您的 vRAM 允许的最大大小，如果您的 vRAM 较低（8gb 或更小），请根据它来减小它\n\n要获得更高的降噪效果，只需将 CN 保持在非常低的位置（在 0.1 时会产生幻觉）"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 68,
      "type": "GetNode",
      "pos": {
        "0": 7778,
        "1": 853,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 210,
        "1": 58
      },
      "flags": {
        "collapsed": true
      },
      "order": 35,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            87
          ],
          "slot_index": 0,
          "label": "IMAGE"
        }
      ],
      "title": "Get_BASE_IMAGE",
      "properties": {},
      "widgets_values": [
        "BASE_IMAGE"
      ]
    },
    {
      "id": 141,
      "type": "PlaySound|pysssss",
      "pos": [
        8763,
        36
      ],
      "size": {
        "0": 315,
        "1": 106
      },
      "flags": {
        "collapsed": true
      },
      "order": 70,
      "mode": 0,
      "inputs": [
        {
          "name": "any",
          "type": "*",
          "link": 151,
          "label": "any"
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null,
          "label": "*",
          "shape": 6
        }
      ],
      "properties": {
        "Node name for S&R": "PlaySound|pysssss"
      },
      "widgets_values": [
        "always",
        0.5,
        "notify.mp3"
      ]
    },
    {
      "id": 138,
      "type": "SaveImage",
      "pos": [
        8685,
        195
      ],
      "size": {
        "0": 267.9124755859375,
        "1": 274.015869140625
      },
      "flags": {},
      "order": 69,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 148,
          "label": "images"
        }
      ],
      "properties": {
        "Node name for S&R": "SaveImage"
      },
      "widgets_values": [
        "SPR_cfgstart%SPIR.cfg_scale_start%_ctrlstart%SPIR.control_scale_start%"
      ]
    },
    {
      "id": 150,
      "type": "ImageResize+",
      "pos": [
        2630,
        1082
      ],
      "size": {
        "0": 324,
        "1": 218
      },
      "flags": {},
      "order": 59,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 161
        },
        {
          "name": "width",
          "type": "INT",
          "link": 162,
          "widget": {
            "name": "width"
          }
        },
        {
          "name": "height",
          "type": "INT",
          "link": 163,
          "widget": {
            "name": "height"
          }
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            164
          ],
          "shape": 3
        },
        {
          "name": "width",
          "type": "INT",
          "links": null,
          "shape": 3
        },
        {
          "name": "height",
          "type": "INT",
          "links": null,
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "ImageResize+"
      },
      "widgets_values": [
        512,
        512,
        "lanczos",
        "stretch",
        "always",
        0
      ]
    },
    {
      "id": 147,
      "type": "JWFloat",
      "pos": [
        2346,
        1833
      ],
      "size": {
        "0": 315,
        "1": 58
      },
      "flags": {},
      "order": 36,
      "mode": 0,
      "outputs": [
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": [
            158,
            159
          ],
          "slot_index": 0,
          "label": "FLOAT",
          "shape": 3
        }
      ],
      "title": "Scale Factor",
      "properties": {
        "Node name for S&R": "JWFloat"
      },
      "widgets_values": [
        3
      ]
    },
    {
      "id": 93,
      "type": "Note",
      "pos": [
        2636,
        934
      ],
      "size": {
        "0": 275.2405090332031,
        "1": 90.38694763183594
      },
      "flags": {},
      "order": 37,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "SUPIR nodes were updated to NOT have to use a 64x multiplier, use whatever you want, but remember: more pixels == slower\nSUPIR 节点已更新为不必使用 64 倍乘数，使用任何您想要的，但请记住：更多像素 == 更慢"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 132,
      "type": "WD14Tagger|pysssss",
      "pos": [
        2129,
        732
      ],
      "size": {
        "0": 430,
        "1": 330
      },
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 144,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "STRING",
          "type": "STRING",
          "links": [
            146
          ],
          "slot_index": 0,
          "label": "STRING",
          "shape": 6
        }
      ],
      "properties": {
        "Node name for S&R": "WD14Tagger|pysssss"
      },
      "widgets_values": [
        "wd-v1-4-moat-tagger-v2",
        0.35,
        0.85,
        false,
        false,
        "",
        "1girl, solo, long_hair, looking_at_viewer, smile, shirt, black_hair, brown_eyes, jewelry, closed_mouth, upper_body, earrings, blurry, black_eyes, lips, blurry_background, portrait, forehead, yellow_shirt, realistic, nose"
      ]
    },
    {
      "id": 103,
      "type": "Note",
      "pos": [
        6473,
        306
      ],
      "size": {
        "0": 470,
        "1": 90
      },
      "flags": {},
      "order": 38,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "This works like a ksampler, but denoise is a not a setting. To get 'creative' output, lower the controlnet scale and/or increase the restoration scale. This can also be very useful to 'fix' damaged images at the cost of accuracy\n这类似于 ksampler，但 denoise 不是一个设置。要获得“创造性”输出，请降低 controlnet 规模和/或增加恢复规模。这对于以牺牲准确性为代价“修复”损坏的图像也非常有用"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 102,
      "type": "SUPIR_sample",
      "pos": [
        6529,
        490
      ],
      "size": {
        "0": 315,
        "1": 454
      },
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "SUPIR_model",
          "type": "SUPIRMODEL",
          "link": 121,
          "label": "SUPIR_model"
        },
        {
          "name": "latents",
          "type": "LATENT",
          "link": 130,
          "label": "latents"
        },
        {
          "name": "positive",
          "type": "SUPIR_cond_pos",
          "link": 122,
          "label": "positive"
        },
        {
          "name": "negative",
          "type": "SUPIR_cond_neg",
          "link": 123,
          "label": "negative"
        }
      ],
      "outputs": [
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            127
          ],
          "slot_index": 0,
          "label": "latent",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "SUPIR_sample"
      },
      "widgets_values": [
        708029630434221,
        "randomize",
        25,
        3,
        3,
        5,
        1,
        1,
        0.93,
        0.98,
        -1,
        false,
        "RestoreDPMPP2MSampler",
        1024,
        512
      ]
    },
    {
      "id": 152,
      "type": "Note",
      "pos": [
        6252,
        1003
      ],
      "size": [
        343.9537095497144,
        267.75993369927323
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "properties": {
        "text": ""
      },
      "widgets_values": [
        "cfg_scale_start,提示词对结果的影响，越小则影响小，意味高清化后的图和原图更相似\n------------\ns_noise,背景虚化景深，超过1几乎没有景深，类似傻瓜相机，而越小如0.5则接近于长焦镜头\ndpmpp_eta，加eta参数则是对焦的准确度，参数越大则越虚，如eta为1时，几乎等于完全没对焦。而eta0.5则对焦很准\n两者结合。s_noise1，eta1，则景深很浅，对焦不准，前景背景都清晰但是又没焦点（当然这符合绝大多数情况）\n而s_noise为0.5，eta1，则景深很深，对焦很虚，也就是全模糊\n相反。s_noise为0.5而eta0.5，则对焦很准，镜头光圈大，背景很模糊，主题明显，很有人像的感觉\n\ncontrolnet scale start和结束，即原图影响有多大，此时设置很大，即很小发挥空间。"
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 59,
      "type": "Image Comparer (rgthree)",
      "pos": {
        "0": 9051,
        "1": 32,
        "2": 0,
        "3": 0,
        "4": 0,
        "5": 0,
        "6": 0,
        "7": 0,
        "8": 0,
        "9": 0
      },
      "size": {
        "0": 1962,
        "1": 1638
      },
      "flags": {},
      "order": 68,
      "mode": 0,
      "inputs": [
        {
          "name": "image_a",
          "type": "IMAGE",
          "link": 143,
          "dir": 3,
          "label": "image_a"
        },
        {
          "name": "image_b",
          "type": "IMAGE",
          "link": 75,
          "dir": 3,
          "label": "image_b"
        }
      ],
      "outputs": [],
      "properties": {
        "comparer_mode": "Slide"
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_ufmel_00029_.png&type=temp&subfolder=&rand=0.4649152009415545"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_ufmel_00030_.png&type=temp&subfolder=&rand=0.7734285298911525"
          }
        ]
      ]
    },
    {
      "id": 13,
      "type": "LoadImage",
      "pos": [
        1288.3329726197876,
        1520.8095975227388
      ],
      "size": {
        "0": 702,
        "1": 990
      },
      "flags": {},
      "order": 40,
      "mode": 0,
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            28,
            131,
            144,
            160
          ],
          "slot_index": 0,
          "label": "IMAGE",
          "shape": 3
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null,
          "label": "MASK",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "sq3.jpg",
        "image"
      ]
    },
    {
      "id": 35,
      "type": "CR Simple Text Watermark",
      "pos": [
        8012,
        820
      ],
      "size": {
        "0": 360,
        "1": 300
      },
      "flags": {},
      "order": 45,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 87,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            75,
            156
          ],
          "slot_index": 0,
          "label": "IMAGE",
          "shape": 3
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "label": "show_help",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Simple Text Watermark"
      },
      "widgets_values": [
        "ORIGINAL",
        "bottom right",
        0.3,
        "AlumniSansCollegiateOne-Regular.ttf",
        50,
        "custom",
        20,
        20,
        "#000000"
      ]
    },
    {
      "id": 145,
      "type": "PreviewImage",
      "pos": [
        8469,
        865
      ],
      "size": {
        "0": 210,
        "1": 246
      },
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 156,
          "label": "images"
        }
      ],
      "properties": {
        "Node name for S&R": "PreviewImage"
      }
    },
    {
      "id": 36,
      "type": "CR Simple Text Watermark",
      "pos": [
        7833,
        116
      ],
      "size": {
        "0": 360,
        "1": 300
      },
      "flags": {},
      "order": 65,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 68,
          "label": "image"
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            142,
            157
          ],
          "slot_index": 0,
          "label": "IMAGE",
          "shape": 3
        },
        {
          "name": "show_help",
          "type": "STRING",
          "links": null,
          "label": "show_help",
          "shape": 3
        }
      ],
      "properties": {
        "Node name for S&R": "CR Simple Text Watermark"
      },
      "widgets_values": [
        "SUPIR",
        "bottom right",
        0.3,
        "AlumniSansCollegiateOne-Regular.ttf",
        50,
        "custom",
        20,
        20,
        "#000000"
      ]
    }
  ],
  "links": [
    [
      27,
      24,
      0,
      25,
      0,
      "UPSCALE_MODEL"
    ],
    [
      28,
      13,
      0,
      25,
      1,
      "IMAGE"
    ],
    [
      68,
      57,
      0,
      36,
      0,
      "IMAGE"
    ],
    [
      75,
      35,
      0,
      59,
      1,
      "IMAGE"
    ],
    [
      86,
      67,
      0,
      57,
      0,
      "IMAGE"
    ],
    [
      87,
      68,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      92,
      72,
      2,
      73,
      2,
      "VAE"
    ],
    [
      93,
      73,
      0,
      60,
      0,
      "SUPIRMODEL"
    ],
    [
      96,
      72,
      1,
      75,
      1,
      "CLIP"
    ],
    [
      97,
      75,
      0,
      73,
      0,
      "MODEL"
    ],
    [
      98,
      75,
      1,
      73,
      1,
      "CLIP"
    ],
    [
      102,
      73,
      1,
      81,
      0,
      "SUPIRVAE"
    ],
    [
      104,
      81,
      1,
      83,
      0,
      "*"
    ],
    [
      106,
      84,
      0,
      85,
      1,
      "IMAGE"
    ],
    [
      107,
      81,
      0,
      86,
      0,
      "*"
    ],
    [
      109,
      87,
      0,
      85,
      0,
      "SUPIRVAE"
    ],
    [
      110,
      62,
      0,
      88,
      0,
      "SUPIRMODEL"
    ],
    [
      114,
      91,
      0,
      81,
      1,
      "IMAGE"
    ],
    [
      119,
      79,
      0,
      100,
      0,
      "IMAGE"
    ],
    [
      120,
      92,
      0,
      100,
      1,
      "IMAGE"
    ],
    [
      121,
      61,
      0,
      102,
      0,
      "SUPIRMODEL"
    ],
    [
      122,
      88,
      0,
      102,
      2,
      "SUPIR_cond_pos"
    ],
    [
      123,
      88,
      1,
      102,
      3,
      "SUPIR_cond_neg"
    ],
    [
      124,
      65,
      0,
      107,
      0,
      "SUPIRVAE"
    ],
    [
      125,
      107,
      0,
      57,
      1,
      "IMAGE"
    ],
    [
      127,
      102,
      0,
      107,
      1,
      "LATENT"
    ],
    [
      128,
      81,
      2,
      109,
      0,
      "*"
    ],
    [
      129,
      110,
      0,
      88,
      1,
      "LATENT"
    ],
    [
      130,
      85,
      0,
      102,
      1,
      "LATENT"
    ],
    [
      131,
      13,
      0,
      114,
      0,
      "IMAGE"
    ],
    [
      134,
      114,
      0,
      121,
      0,
      "INT,FLOAT"
    ],
    [
      136,
      114,
      1,
      122,
      0,
      "INT,FLOAT"
    ],
    [
      142,
      36,
      0,
      130,
      0,
      "IMAGE"
    ],
    [
      143,
      130,
      0,
      59,
      0,
      "IMAGE"
    ],
    [
      144,
      13,
      0,
      132,
      0,
      "IMAGE"
    ],
    [
      146,
      132,
      0,
      136,
      0,
      "*"
    ],
    [
      147,
      137,
      0,
      88,
      3,
      "STRING"
    ],
    [
      148,
      130,
      0,
      138,
      0,
      "IMAGE"
    ],
    [
      151,
      130,
      0,
      141,
      0,
      "*"
    ],
    [
      154,
      74,
      0,
      75,
      2,
      "LORA_STACK"
    ],
    [
      155,
      72,
      0,
      75,
      0,
      "MODEL"
    ],
    [
      156,
      35,
      0,
      145,
      0,
      "IMAGE"
    ],
    [
      157,
      36,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      158,
      147,
      0,
      122,
      1,
      "INT,FLOAT"
    ],
    [
      159,
      147,
      0,
      121,
      1,
      "INT,FLOAT"
    ],
    [
      160,
      13,
      0,
      66,
      0,
      "IMAGE"
    ],
    [
      161,
      25,
      0,
      150,
      0,
      "IMAGE"
    ],
    [
      162,
      121,
      0,
      150,
      1,
      "INT"
    ],
    [
      163,
      122,
      0,
      150,
      2,
      "INT"
    ],
    [
      164,
      150,
      0,
      90,
      0,
      "IMAGE"
    ]
  ],
  "groups": [
    {
      "title": "https://www.youtube.com/@stephantual",
      "bounding": [
        -436,
        -377,
        1800,
        133
      ],
      "color": "#ff0000",
      "font_size": 100,
      "locked": false
    },
    {
      "title": "URSIUM.AI - CC-BY",
      "bounding": [
        -436,
        -788,
        1879,
        237
      ],
      "color": "#ff0000",
      "font_size": 200,
      "locked": false
    },
    {
      "title": "SUPIR V2 - Default Workflow (Update3)",
      "bounding": [
        -437,
        -536,
        1823,
        148
      ],
      "color": "#ff0000",
      "font_size": 100,
      "locked": false
    },
    {
      "title": "Stage 1",
      "bounding": [
        1249,
        -199,
        3775,
        2999
      ],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Stage 2",
      "bounding": [
        5866,
        -31,
        5232,
        1776
      ],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.7972024500000114,
      "offset": [
        -8074.529143614283,
        46.77026803098335
      ]
    },
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "workspace_info": {
      "id": "f6ce7d15-2ce8-4f49-a77d-dc5430bbc44e"
    }
  },
  "version": 0.4
}